<form class="form-horizontal"
      ng-submit="$close(pin)">

  <div class="modal-header">
    <button type="button" class="close" title="Cancel"
            ng-click="$dismiss()">&times;</button>
    <h4 class="modal-title"
        ng-switch="type">
      <span ng-switch-when="PinMatrixRequestType_Current">
        Please enter current PIN:<br>
        <small class="text-info">Look at the device for number positions.</small>
      </span>
      <span ng-switch-when="PinMatrixRequestType_NewFirst">
        Please enter new PIN:<br>
        <small class="text-info">Look at the device for number positions.</small>
      </span>
      <span ng-switch-when="PinMatrixRequestType_NewSecond">
        Please re-enter new PIN:<br>
        <small class="text-danger">Note that the positions of numbers shown on the device have changed!</small>
      </span>
    </h4>
  </div>
  <div class="modal-body">

    <div class="form-group">
      <span class="col-sm-4">
        <button type="button" class="btn btn-block btn-lg"
                ng-click="pin = pin + '7'">?</button>
      </span>
      <span class="col-sm-4">
        <button type="button" class="btn btn-block btn-lg"
                ng-click="pin = pin + '8'">?</button>
      </span>
      <span class="col-sm-4">
        <button type="button" class="btn btn-block btn-lg"
                ng-click="pin = pin + '9'">?</button>
      </span>
    </div>
    <div class="form-group">
      <span class="col-sm-4">
        <button type="button" class="btn btn-block btn-lg"
                ng-click="pin = pin + '4'">?</button>
      </span>
      <span class="col-sm-4">
        <button type="button" class="btn btn-block btn-lg"
                ng-click="pin = pin + '5'">?</button>
      </span>
      <span class="col-sm-4">
        <button type="button" class="btn btn-block btn-lg"
                ng-click="pin = pin + '6'">?</button>
      </span>
    </div>
    <div class="form-group">
      <span class="col-sm-4">
        <button type="button" class="btn btn-block btn-lg"
                ng-click="pin = pin + '1'">?</button>
      </span>
      <span class="col-sm-4">
        <button type="button" class="btn btn-block btn-lg"
                ng-click="pin = pin + '2'">?</button>
      </span>
      <span class="col-sm-4">
        <button type="button" class="btn btn-block btn-lg"
                ng-click="pin = pin + '3'">?</button>
      </span>
    </div>

    <div class="form-group">
      <input type="password" class="form-control h4 input-lg text-center pinmodal-pin"
             autocomplete="off"
             ng-model="pin">
      <div class="text-center"
           ng-if="pin && type === 'PinMatrixRequestType_NewFirst'"
           ng-controller="DeviceCtrl"
           ng-switch="ratePin(pin)">
        <span ng-switch-when="weak" class="text-danger">Weak</span>
        <span ng-switch-when="fine" class="text-warning">Fine</span>
        <span ng-switch-when="strong" class="text-success">Strong</span>
        <span ng-switch-when="ultimate" class="text-success">Ultimate</span>
      </div>
    </div>

  </div>
  <div class="modal-footer">
    <button type="submit" class="btn btn-primary btn-block btn-lg">Enter</button>
  </div>

</form>